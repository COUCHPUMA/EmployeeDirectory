{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\couch\\\\GITLAB\\\\EmployeeDirectory\\\\employeedirectory\\\\src\\\\components\\\\DataArea.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport DataTable from \"./DataTable\";\nimport Nav from \"./Nav\";\nimport API from \"../utils/API\";\nimport \"../styles/DataArea.css\";\nimport DataAreaContext from \"../utils/DataAreaContext\";\n\nconst DataArea = () => {\n  _s();\n\n  const [developerState, setDeveloperState] = useState({\n    users: [],\n    order: \"descend\",\n    filteredUsers: [],\n    headings: [{\n      name: \"Image\",\n      width: \"10%\",\n      order: \"descend\"\n    }, {\n      name: \"name\",\n      width: \"10%\",\n      order: \"descend\"\n    }, {\n      name: \"phone\",\n      width: \"20%\",\n      order: \"descend\"\n    }, {\n      name: \"email\",\n      width: \"20%\",\n      order: \"descend\"\n    }, {\n      name: \"dob\",\n      width: \"10%\",\n      order: \"descend\"\n    }]\n  });\n\n  const handleSort = heading => {\n    let currentOrder = developerState.headings.filter(elem => elem.name === heading).map(elem => elem.order).toString();\n\n    if (currentOrder === \"descend\") {\n      currentOrder = \"ascend\";\n    } else {\n      currentOrder = \"descend\";\n    }\n\n    const compareFnc = (a, b) => {\n      if (currentOrder === \"ascend\") {\n        // account for missing values\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        } // numerically\n        else if (heading === \"name\") {\n            return a[heading].first.localeCompare(b[heading].first);\n          } else if (heading === \"dob\") {\n            return a[heading].age - b[heading].age;\n          } else {\n            return a[heading].localeCompare(b[heading]);\n          }\n      } else {\n        // account for missing values\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        } // numerically\n        else if (heading === \"name\") {\n            return b[heading].first.localeCompare(a[heading].first);\n          } else if (heading === \"dob\") {\n            return b[heading].age - a[heading].age;\n          } else {\n            return b[heading].localeCompare(a[heading]);\n          }\n      }\n    };\n\n    const sortedUsers = developerState.filteredUsers.sort(compareFnc);\n    const updatedHeadings = developerState.headings.map(elem => {\n      elem.order = elem.name === heading ? currentOrder : elem.order;\n      return elem;\n    });\n    setDeveloperState({ ...developerState,\n      filteredUsers: sortedUsers,\n      headings: updatedHeadings\n    });\n  };\n\n  const handleSearchChange = event => {\n    const filter = event.target.value;\n    const filteredList = developerState.users.filter(item => {\n      let values = item.name.first.toLowerCase() + \" \" + item.name.last.toLowerCase();\n      console.log(filter, values);\n\n      if (values.indexOf(filter.toLowerCase()) !== -1) {\n        return item;\n      }\n\n      ;\n    });\n    setDeveloperState({ ...developerState,\n      filteredUsers: filteredList\n    });\n  };\n\n  useEffect(() => {\n    API.getUsers().then(results => {\n      console.log(results.data.results);\n      setDeveloperState({ ...developerState,\n        users: results.data.results,\n        filteredUsers: results.data.results\n      });\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DataAreaContext.Provider, {\n    value: {\n      developerState,\n      handleSearchChange,\n      handleSort\n    },\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-area\",\n      children: [\" \", developerState.filteredUsers.length > 0 ? /*#__PURE__*/_jsxDEV(DataTable, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 59\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 77\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 18\n  }, this);\n};\n\n_s(DataArea, \"xTAzziafCmXOXSwejOJUCe0GJvM=\");\n\n_c = DataArea;\nexport default DataArea;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataArea\");","map":{"version":3,"sources":["C:/Users/couch/GITLAB/EmployeeDirectory/employeedirectory/src/components/DataArea.js"],"names":["React","useState","useEffect","DataTable","Nav","API","DataAreaContext","DataArea","developerState","setDeveloperState","users","order","filteredUsers","headings","name","width","handleSort","heading","currentOrder","filter","elem","map","toString","compareFnc","a","b","undefined","first","localeCompare","age","sortedUsers","sort","updatedHeadings","handleSearchChange","event","target","value","filteredList","item","values","toLowerCase","last","console","log","indexOf","getUsers","then","results","data","length"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAO,wBAAP;AACA,OAAOC,eAAP,MAA4B,0BAA5B;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACf,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCR,QAAQ,CAAC;AACjDS,IAAAA,KAAK,EAAE,EAD0C;AAEjDC,IAAAA,KAAK,EAAE,SAF0C;AAGjDC,IAAAA,aAAa,EAAE,EAHkC;AAIjDC,IAAAA,QAAQ,EAAE,CACN;AAAEC,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAE,KAAxB;AAA+BJ,MAAAA,KAAK,EAAE;AAAtC,KADM,EAEN;AAAEG,MAAAA,IAAI,EAAE,MAAR;AAAgBC,MAAAA,KAAK,EAAE,KAAvB;AAA8BJ,MAAAA,KAAK,EAAE;AAArC,KAFM,EAGN;AAAEG,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAE,KAAxB;AAA+BJ,MAAAA,KAAK,EAAE;AAAtC,KAHM,EAIN;AAAEG,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAE,KAAxB;AAA+BJ,MAAAA,KAAK,EAAE;AAAtC,KAJM,EAKN;AAAEG,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,KAAK,EAAE,KAAtB;AAA6BJ,MAAAA,KAAK,EAAE;AAApC,KALM;AAJuC,GAAD,CAApD;;AAaA,QAAMK,UAAU,GAAGC,OAAO,IAAI;AAC1B,QAAIC,YAAY,GAAGV,cAAc,CAACK,QAAf,CACdM,MADc,CACPC,IAAI,IAAIA,IAAI,CAACN,IAAL,KAAcG,OADf,EAEdI,GAFc,CAEVD,IAAI,IAAIA,IAAI,CAACT,KAFH,EAGdW,QAHc,EAAnB;;AAKA,QAAIJ,YAAY,KAAK,SAArB,EAAgC;AAC5BA,MAAAA,YAAY,GAAG,QAAf;AACH,KAFD,MAEO;AACHA,MAAAA,YAAY,GAAG,SAAf;AACH;;AAED,UAAMK,UAAU,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACzB,UAAIP,YAAY,KAAK,QAArB,EAA+B;AAC3B;AACA,YAAIM,CAAC,CAACP,OAAD,CAAD,KAAeS,SAAnB,EAA8B;AAC1B,iBAAO,CAAP;AACH,SAFD,MAEO,IAAID,CAAC,CAACR,OAAD,CAAD,KAAeS,SAAnB,EAA8B;AACjC,iBAAO,CAAC,CAAR;AACH,SAFM,CAGP;AAHO,aAIF,IAAIT,OAAO,KAAK,MAAhB,EAAwB;AACzB,mBAAOO,CAAC,CAACP,OAAD,CAAD,CAAWU,KAAX,CAAiBC,aAAjB,CAA+BH,CAAC,CAACR,OAAD,CAAD,CAAWU,KAA1C,CAAP;AACH,WAFI,MAEE,IAAIV,OAAO,KAAK,KAAhB,EAAuB;AAC1B,mBAAOO,CAAC,CAACP,OAAD,CAAD,CAAWY,GAAX,GAAiBJ,CAAC,CAACR,OAAD,CAAD,CAAWY,GAAnC;AACH,WAFM,MAEA;AACH,mBAAOL,CAAC,CAACP,OAAD,CAAD,CAAWW,aAAX,CAAyBH,CAAC,CAACR,OAAD,CAA1B,CAAP;AACH;AACJ,OAfD,MAeO;AACH;AACA,YAAIO,CAAC,CAACP,OAAD,CAAD,KAAeS,SAAnB,EAA8B;AAC1B,iBAAO,CAAP;AACH,SAFD,MAEO,IAAID,CAAC,CAACR,OAAD,CAAD,KAAeS,SAAnB,EAA8B;AACjC,iBAAO,CAAC,CAAR;AACH,SAFM,CAGP;AAHO,aAIF,IAAIT,OAAO,KAAK,MAAhB,EAAwB;AACzB,mBAAOQ,CAAC,CAACR,OAAD,CAAD,CAAWU,KAAX,CAAiBC,aAAjB,CAA+BJ,CAAC,CAACP,OAAD,CAAD,CAAWU,KAA1C,CAAP;AACH,WAFI,MAEE,IAAIV,OAAO,KAAK,KAAhB,EAAuB;AAC1B,mBAAOQ,CAAC,CAACR,OAAD,CAAD,CAAWY,GAAX,GAAiBL,CAAC,CAACP,OAAD,CAAD,CAAWY,GAAnC;AACH,WAFM,MAEA;AACH,mBAAOJ,CAAC,CAACR,OAAD,CAAD,CAAWW,aAAX,CAAyBJ,CAAC,CAACP,OAAD,CAA1B,CAAP;AACH;AACJ;AACJ,KAhCD;;AAiCA,UAAMa,WAAW,GAAGtB,cAAc,CAACI,aAAf,CAA6BmB,IAA7B,CAAkCR,UAAlC,CAApB;AACA,UAAMS,eAAe,GAAGxB,cAAc,CAACK,QAAf,CAAwBQ,GAAxB,CAA4BD,IAAI,IAAI;AACxDA,MAAAA,IAAI,CAACT,KAAL,GAAaS,IAAI,CAACN,IAAL,KAAcG,OAAd,GAAwBC,YAAxB,GAAuCE,IAAI,CAACT,KAAzD;AACA,aAAOS,IAAP;AACH,KAHuB,CAAxB;AAKAX,IAAAA,iBAAiB,CAAC,EACd,GAAGD,cADW;AAEdI,MAAAA,aAAa,EAAEkB,WAFD;AAGdjB,MAAAA,QAAQ,EAAEmB;AAHI,KAAD,CAAjB;AAKH,GAxDD;;AA0DA,QAAMC,kBAAkB,GAAGC,KAAK,IAAI;AAChC,UAAMf,MAAM,GAAGe,KAAK,CAACC,MAAN,CAAaC,KAA5B;AACA,UAAMC,YAAY,GAAG7B,cAAc,CAACE,KAAf,CAAqBS,MAArB,CAA4BmB,IAAI,IAAI;AACrD,UAAIC,MAAM,GAAGD,IAAI,CAACxB,IAAL,CAAUa,KAAV,CAAgBa,WAAhB,KAAgC,GAAhC,GAAsCF,IAAI,CAACxB,IAAL,CAAU2B,IAAV,CAAeD,WAAf,EAAnD;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYxB,MAAZ,EAAoBoB,MAApB;;AACA,UAAIA,MAAM,CAACK,OAAP,CAAezB,MAAM,CAACqB,WAAP,EAAf,MAAyC,CAAC,CAA9C,EAAiD;AAC7C,eAAOF,IAAP;AACH;;AAAA;AACJ,KANoB,CAArB;AAQA7B,IAAAA,iBAAiB,CAAC,EAAC,GAAGD,cAAJ;AAAoBI,MAAAA,aAAa,EAAEyB;AAAnC,KAAD,CAAjB;AACH,GAXD;;AAcAnC,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,GAAG,CAACwC,QAAJ,GAAeC,IAAf,CAAoBC,OAAO,IAAI;AAC3BL,MAAAA,OAAO,CAACC,GAAR,CAAYI,OAAO,CAACC,IAAR,CAAaD,OAAzB;AACAtC,MAAAA,iBAAiB,CAAC,EACd,GAAGD,cADW;AAEdE,QAAAA,KAAK,EAAEqC,OAAO,CAACC,IAAR,CAAaD,OAFN;AAGdnC,QAAAA,aAAa,EAAEmC,OAAO,CAACC,IAAR,CAAaD;AAHd,OAAD,CAAjB;AAKH,KAPD;AAQH,GATQ,EASN,EATM,CAAT;AAWA,sBAAS,QACL,eADK,CACW,QADX;AACoB,IAAA,KAAK,EAC1B;AAAEvC,MAAAA,cAAF;AAAkByB,MAAAA,kBAAlB;AAAsCjB,MAAAA;AAAtC,KAFC;AAAA,4BAGL,QACA,GADA;AAAA;AAAA;AAAA;AAAA,YAHK,eAKL;AACI,MAAA,SAAS,EAAG,WADhB;AAAA,sBAEIR,cAAc,CAACI,aAAf,CAA6BqC,MAA7B,GAAsC,CAAtC,gBAA0C,QAAE,SAAF;AAAA;AAAA;AAAA;AAAA,cAA1C,gBAA4D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFhE;AAAA;AAAA;AAAA;AAAA;AAAA,YALK;AAAA;AAAA;AAAA;AAAA;AAAA,UAAT;AAWC,CA5GT;;GAAM1C,Q;;KAAAA,Q;AA8GE,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport DataTable from \"./DataTable\";\r\nimport Nav from \"./Nav\";\r\nimport API from \"../utils/API\";\r\nimport \"../styles/DataArea.css\";\r\nimport DataAreaContext from \"../utils/DataAreaContext\";\r\n\r\nconst DataArea = () => {\r\n        const [developerState, setDeveloperState] = useState({\r\n            users: [],\r\n            order: \"descend\",\r\n            filteredUsers: [],\r\n            headings: [\r\n                { name: \"Image\", width: \"10%\", order: \"descend\" },\r\n                { name: \"name\", width: \"10%\", order: \"descend\" },\r\n                { name: \"phone\", width: \"20%\", order: \"descend\" },\r\n                { name: \"email\", width: \"20%\", order: \"descend\" },\r\n                { name: \"dob\", width: \"10%\", order: \"descend\" }\r\n            ]\r\n        });\r\n\r\n        const handleSort = heading => {\r\n            let currentOrder = developerState.headings\r\n                .filter(elem => elem.name === heading)\r\n                .map(elem => elem.order)\r\n                .toString();\r\n\r\n            if (currentOrder === \"descend\") {\r\n                currentOrder = \"ascend\";\r\n            } else {\r\n                currentOrder = \"descend\";\r\n            }\r\n\r\n            const compareFnc = (a, b) => {\r\n                if (currentOrder === \"ascend\") {\r\n                    // account for missing values\r\n                    if (a[heading] === undefined) {\r\n                        return 1;\r\n                    } else if (b[heading] === undefined) {\r\n                        return -1;\r\n                    }\r\n                    // numerically\r\n                    else if (heading === \"name\") {\r\n                        return a[heading].first.localeCompare(b[heading].first);\r\n                    } else if (heading === \"dob\") {\r\n                        return a[heading].age - b[heading].age;\r\n                    } else {\r\n                        return a[heading].localeCompare(b[heading]);\r\n                    }\r\n                } else {\r\n                    // account for missing values\r\n                    if (a[heading] === undefined) {\r\n                        return 1;\r\n                    } else if (b[heading] === undefined) {\r\n                        return -1;\r\n                    }\r\n                    // numerically\r\n                    else if (heading === \"name\") {\r\n                        return b[heading].first.localeCompare(a[heading].first);\r\n                    } else if (heading === \"dob\") {\r\n                        return b[heading].age - a[heading].age;\r\n                    } else {\r\n                        return b[heading].localeCompare(a[heading]);\r\n                    }\r\n                }\r\n            };\r\n            const sortedUsers = developerState.filteredUsers.sort(compareFnc);\r\n            const updatedHeadings = developerState.headings.map(elem => {\r\n                elem.order = elem.name === heading ? currentOrder : elem.order;\r\n                return elem;\r\n            });\r\n\r\n            setDeveloperState({\r\n                ...developerState,\r\n                filteredUsers: sortedUsers,\r\n                headings: updatedHeadings\r\n            });\r\n        };\r\n\r\n        const handleSearchChange = event => {\r\n            const filter = event.target.value;\r\n            const filteredList = developerState.users.filter(item => {\r\n                let values = item.name.first.toLowerCase() + \" \" + item.name.last.toLowerCase();\r\n                console.log(filter, values)\r\n                if (values.indexOf(filter.toLowerCase()) !== -1) {\r\n                    return item\r\n                };\r\n            });\r\n\r\n            setDeveloperState({...developerState, filteredUsers: filteredList });\r\n        };\r\n\r\n\r\n        useEffect(() => {\r\n            API.getUsers().then(results => {\r\n                console.log(results.data.results);\r\n                setDeveloperState({\r\n                    ...developerState,\r\n                    users: results.data.results,\r\n                    filteredUsers: results.data.results\r\n                });\r\n            });\r\n        }, []);\r\n\r\n        return ( <\r\n            DataAreaContext.Provider value = {\r\n                { developerState, handleSearchChange, handleSort } } >\r\n            <\r\n            Nav / >\r\n            <\r\n            div className = \"data-area\" > {\r\n                developerState.filteredUsers.length > 0 ? < DataTable / > : < div > < /div>} <\r\n                    /div> <\r\n                    /DataAreaContext.Provider>\r\n            );\r\n        };\r\n\r\n        export default DataArea;"]},"metadata":{},"sourceType":"module"}