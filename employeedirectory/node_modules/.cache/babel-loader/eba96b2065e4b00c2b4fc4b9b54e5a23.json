{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"C:/Users/couch/GITLAB/EmployeeDirectory/employeedirectory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/couch/GITLAB/EmployeeDirectory/employeedirectory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import DataTable from\"./DataTable\";import Nav from\"./Nav\";import API from\"../utils/API\";import\"../styles/DataArea.css\";import DataAreaContext from\"../utils/DataAreaContext\";var DataArea=function DataArea(){var _useState=useState({users:[],order:\"descend\",filteredUsers:[],headings:[{name:\"Image\",width:\"10%\",order:\"descend\"},{name:\"name\",width:\"10%\",order:\"descend\"},{name:\"phone\",width:\"20%\",order:\"descend\"},{name:\"email\",width:\"20%\",order:\"descend\"},{name:\"dob\",width:\"10%\",order:\"descend\"}]}),_useState2=_slicedToArray(_useState,2),developerState=_useState2[0],setDeveloperState=_useState2[1];var handleSort=function handleSort(heading){var currentOrder=developerState.headings.filter(function(elem){return elem.name===heading;}).map(function(elem){return elem.order;}).toString();if(currentOrder===\"descend\"){currentOrder=\"ascend\";}else{currentOrder=\"descend\";}var compareFnc=function compareFnc(a,b){if(currentOrder===\"ascend\"){// account for missing values\nif(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}// numerically\nelse if(heading===\"name\"){return a[heading].first.localeCompare(b[heading].first);}else if(heading===\"dob\"){return a[heading].age-b[heading].age;}else{return a[heading].localeCompare(b[heading]);}}else{// account for missing values\nif(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}// numerically\nelse if(heading===\"name\"){return b[heading].first.localeCompare(a[heading].first);}else if(heading===\"dob\"){return b[heading].age-a[heading].age;}else{return b[heading].localeCompare(a[heading]);}}};var sortedUsers=developerState.filteredUsers.sort(compareFnc);var updatedHeadings=developerState.headings.map(function(elem){elem.order=elem.name===heading?currentOrder:elem.order;return elem;});setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{filteredUsers:sortedUsers,headings:updatedHeadings}));};var handleSearchChange=function handleSearchChange(event){var filter=event.target.value;var filteredList=developerState.users.filter(function(item){var values=item.name.first.toLowerCase()+\" \"+item.name.last.toLowerCase();console.log(filter,values);if(values.indexOf(filter.toLowerCase())!==-1){return item;};});setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{filteredUsers:filteredList}));};useEffect(function(){API.getUsers().then(function(results){console.log(results.data.results);setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{users:results.data.results,filteredUsers:results.data.results}));});},[]);return/*#__PURE__*/_jsxs(DataAreaContext.Provider,{value:{developerState:developerState,handleSearchChange:handleSearchChange,handleSort:handleSort},children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-area\",children:[\" \",developerState.filteredUsers.length>0?/*#__PURE__*/_jsx(DataTable,{}):/*#__PURE__*/_jsx(\"div\",{children:\" \"}),\" \"]}),\" \"]});};export default DataArea;","map":{"version":3,"sources":["C:/Users/couch/GITLAB/EmployeeDirectory/employeedirectory/src/components/DataArea.js"],"names":["React","useState","useEffect","DataTable","Nav","API","DataAreaContext","DataArea","users","order","filteredUsers","headings","name","width","developerState","setDeveloperState","handleSort","heading","currentOrder","filter","elem","map","toString","compareFnc","a","b","undefined","first","localeCompare","age","sortedUsers","sort","updatedHeadings","handleSearchChange","event","target","value","filteredList","item","values","toLowerCase","last","console","log","indexOf","getUsers","then","results","data","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport DataTable from \"./DataTable\";\r\nimport Nav from \"./Nav\";\r\nimport API from \"../utils/API\";\r\nimport \"../styles/DataArea.css\";\r\nimport DataAreaContext from \"../utils/DataAreaContext\";\r\n\r\nconst DataArea = () => {\r\n        const [developerState, setDeveloperState] = useState({\r\n            users: [],\r\n            order: \"descend\",\r\n            filteredUsers: [],\r\n            headings: [\r\n                { name: \"Image\", width: \"10%\", order: \"descend\" },\r\n                { name: \"name\", width: \"10%\", order: \"descend\" },\r\n                { name: \"phone\", width: \"20%\", order: \"descend\" },\r\n                { name: \"email\", width: \"20%\", order: \"descend\" },\r\n                { name: \"dob\", width: \"10%\", order: \"descend\" }\r\n            ]\r\n        });\r\n\r\n        const handleSort = heading => {\r\n            let currentOrder = developerState.headings\r\n                .filter(elem => elem.name === heading)\r\n                .map(elem => elem.order)\r\n                .toString();\r\n\r\n            if (currentOrder === \"descend\") {\r\n                currentOrder = \"ascend\";\r\n            } else {\r\n                currentOrder = \"descend\";\r\n            }\r\n\r\n            const compareFnc = (a, b) => {\r\n                if (currentOrder === \"ascend\") {\r\n                    // account for missing values\r\n                    if (a[heading] === undefined) {\r\n                        return 1;\r\n                    } else if (b[heading] === undefined) {\r\n                        return -1;\r\n                    }\r\n                    // numerically\r\n                    else if (heading === \"name\") {\r\n                        return a[heading].first.localeCompare(b[heading].first);\r\n                    } else if (heading === \"dob\") {\r\n                        return a[heading].age - b[heading].age;\r\n                    } else {\r\n                        return a[heading].localeCompare(b[heading]);\r\n                    }\r\n                } else {\r\n                    // account for missing values\r\n                    if (a[heading] === undefined) {\r\n                        return 1;\r\n                    } else if (b[heading] === undefined) {\r\n                        return -1;\r\n                    }\r\n                    // numerically\r\n                    else if (heading === \"name\") {\r\n                        return b[heading].first.localeCompare(a[heading].first);\r\n                    } else if (heading === \"dob\") {\r\n                        return b[heading].age - a[heading].age;\r\n                    } else {\r\n                        return b[heading].localeCompare(a[heading]);\r\n                    }\r\n                }\r\n            };\r\n            const sortedUsers = developerState.filteredUsers.sort(compareFnc);\r\n            const updatedHeadings = developerState.headings.map(elem => {\r\n                elem.order = elem.name === heading ? currentOrder : elem.order;\r\n                return elem;\r\n            });\r\n\r\n            setDeveloperState({\r\n                ...developerState,\r\n                filteredUsers: sortedUsers,\r\n                headings: updatedHeadings\r\n            });\r\n        };\r\n\r\n        const handleSearchChange = event => {\r\n            const filter = event.target.value;\r\n            const filteredList = developerState.users.filter(item => {\r\n                let values = item.name.first.toLowerCase() + \" \" + item.name.last.toLowerCase();\r\n                console.log(filter, values)\r\n                if (values.indexOf(filter.toLowerCase()) !== -1) {\r\n                    return item\r\n                };\r\n            });\r\n\r\n            setDeveloperState({...developerState, filteredUsers: filteredList });\r\n        };\r\n\r\n\r\n        useEffect(() => {\r\n            API.getUsers().then(results => {\r\n                console.log(results.data.results);\r\n                setDeveloperState({\r\n                    ...developerState,\r\n                    users: results.data.results,\r\n                    filteredUsers: results.data.results\r\n                });\r\n            });\r\n        }, []);\r\n\r\n        return ( <\r\n            DataAreaContext.Provider value = {\r\n                { developerState, handleSearchChange, handleSort } } >\r\n            <\r\n            Nav / >\r\n            <\r\n            div className = \"data-area\" > {\r\n                developerState.filteredUsers.length > 0 ? < DataTable / > : < div > < /div>} <\r\n                    /div> <\r\n                    /DataAreaContext.Provider>\r\n            );\r\n        };\r\n\r\n        export default DataArea;"]},"metadata":{},"sourceType":"module"}